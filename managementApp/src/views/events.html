<section class="container-fluid">
    <div>
        <div class="col-md-10 col-md-offset-1">
            <h2 class="center">
                {{event.title}}
            </h2>
            <div class="panel panel-default" ng-show="event.viewForm">
                <div class="panel-body">
                    <p ng-if="event.error">
                        {{ event.error }}
                    </p>
                    <div class="form-horizontal">
                        <form name="form">
                            <div class="col-xs-6">
                                <div class="group">
                                    <label>
                                        Name
                                    </label>
                                    <span class="required" ng-show="form.attributes.name.$error.required">
                                        *
                                    </span>
                                    <input class="form-control" data-ng-class="{'invalid' : form.attributes.name.$invalid && !form.attributes.name.$pristine}" data-ng-model="event.form.attributes.name" name="name" ng-required="true" placeholder="What is the event name?" type="text">
                                    </input>
                                </div>
                            </div>
                            <div class="col-xs-6">
                                <div class="group">
                                    <label>
                                        Image URL
                                    </label>
                                    <span class="required" ng-show="form.attributes.image_url.$error.required">
                                        *
                                    </span>
                                    <input class="form-control" data-ng-class="{'invalid' : form.attributes.image_url.$invalid && !form.attributes.image_url.$pristine}" data-ng-model="event.form.attributes['image-url']" name="image_url" ng-required="true" placeholder="What is the event image url?" type="text">
                                    </input>
                                </div>
                            </div>
                            <div class="col-xs-6">
                                <div class="group">
                                    <label>
                                        External URL
                                    </label>
                                    <input class="form-control" data-ng-class="{'invalid' : form.attributes.external_url.$invalid && !form.attributes.external_url.$pristine}" data-ng-model="event.form.attributes['external-url']" name="external_url" ng-required="false" placeholder="What is the event external url?" type="text">
                                    </input>
                                </div>
                            </div>
                            <div class="col-xs-4">
                                <div class="group">
                                    <label>
                                        Latitude
                                    </label>
                                    <input class="form-control" data-ng-class="{'invalid' : form.attributes.latitude.$invalid && !form.attributes.latitude.$pristine}" data-ng-model="event.form.attributes.latitude" name="latitude" placeholder="What is the event latitude?" type="text">
                                    </input>
                                </div>
                            </div>
                            <div class="col-xs-4">
                                <div class="group">
                                    <label>
                                        Longitude
                                    </label>
                                    <input class="form-control" data-ng-class="{'invalid' : form.attributes.longitude.$invalid && !form.attributes.longitude.$pristine}" data-ng-model="event.form.attributes.longitude" name="longitude"placeholder="What is the event longitude?" type="text">
                                    </input>
                                </div>
                            </div>
                            <div class="col-xs-4" ng-show="event.adding">
                                <div class="group">
                                    <label>
                                        User Id
                                    </label>
                                    <input class="form-control" data-ng-class="{'invalid' : form.attributes.user_id.$invalid && !form.attributes.user_id.$pristine}" data-ng-model="event.form.attributes['user-id']" name="user_id" placeholder="What is the event user id?" type="text">
                                    </input>
                                </div>
                            </div>
                            <div class="col-xs-4" ng-show="event.adding">
                                <div class="group">
                                    <label>
                                        CSS Style Id
                                    </label>
                                    <input class="form-control" data-ng-class="{'invalid' : form.attributes.css_style_id.$invalid && !form.attributes.css_style_id.$pristine}" data-ng-model="event.form.attributes['css-style-id']" name="css_style_id" placeholder="What is the event css style id?" type="text">
                                    </input>
                                </div>
                            </div>
                            <div class="col-xs-2">
                                <div class="group">
                                    <label>
                                        Active
                                    </label>
                                    <input class="form-control" data-ng-class="{'invalid' : form.attributes.active.$invalid && !form.attributes.active.$pristine}" data-ng-model="event.form.attributes.active" name="active" placeholder="What is the event active?" type="checkbox">
                                    </input>
                                </div>
                            </div>
                            <br/>
                            <div class="group pull-right">
                                <button class="btn btn-default btn-success" data-ng-click="event.add(event.form)" data-ng-disabled="event.viewForm || form.$invalid" name="action">
                                    <i class="glyphicon glyphicon-plus-sign">
                                    </i>
                                    Add new user
                                </button>
                                <button class="btn btn-default btn-info" data-ng-click="event.save(event.form)" data-ng-disabled="!event.viewForm || form.$invalid">
                                    <i class="glyphicon glyphicon-floppy-save">
                                    </i>
                                    Save
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            <div class="panel panel-default">
                <div class="panel-body">
                    <table class="table table-striped table-bordered">
                        <thead>
                            <tr>
                                <th colspan="6">
                                    <input class="form-control col-lg-12" data-ng-model="searchUser" data-ng-model-options="event.modelOptions" placeholder="Search">
                                    </input>
                                </th>
                                <th>
                                    <button class="btn btn-success" data-ng-click="event.prepareAdd()" name="action">
                                        <i class="glyphicon glyphicon-plus">
                                        </i>
                                    </button>
                                </th>
                            </tr>
                            <tr>
                                <th>
                                    #
                                </th>
                                <th>
                                    Name
                                </th>
                                <th>
                                    Image
                                </th>
                                <th>
                                    External link
                                </th>
                                <th>
                                    Lat/Long
                                </th>
                                <th>
                                    Active
                                </th>
                                <th>
                                    Action
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr data-ng-repeat="entry in event.data | filter: searchUser">
                                <td>
                                    {{entry.id}}
                                </td>
                                <td>
                                    {{entry.attributes.name}}
                                </td>
                                <td>
                                    {{entry.attributes["image-url"]}}
                                </td>
                                <td>
                                    {{entry.attributes["external-url"]}}
                                </td>
                                <td>
                                    {{entry.attributes.latitude}} - {{entry.attributes.longitude}}
                                </td>
                                <td>
                                    {{entry.attributes.active}}
                                </td>
                                <td>
                                    <button class="btn btn-info" data-ng-click="event.edit(entry, entry.id)" name="action" type="submit">
                                        <i class="glyphicon glyphicon-pencil">
                                        </i>
                                    </button>
                                    <button class="btn btn-danger" data-ng-click="event.remove(entry)" name="action" type="submit">
                                        <i class="glyphicon glyphicon-remove">
                                        </i>
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</section>