<section>
    <div>
        <div class="col-md-10 col-md-offset-1">
            <h2 class="center">
                {{vm.title}}
            </h2>
            <div class="panel panel-default" ng-show="vm.editing">
                <div class="panel-body">
                    <p ng-if="vm.error">
                        {{vm.error}}
                    </p>
                    <div class="form-horizontal">
                        <form name="form">
                            <div class="col-xs-6">
                                <div class="group">
                                    <label>
                                        Name
                                    </label>
                                    <span class="required" ng-show="form.name.$error.required">
                                        *
                                    </span>
                                    <input class="form-control" data-ng-class="{'invalid' : form.name.$invalid && !form.name.$pristine}" data-ng-model="vm.form.name" name="name" ng-required="true" placeholder="What is the event name?" type="text">
                                    </input>
                                </div>
                            </div>
                            <div class="col-xs-6">
                                <div class="group">
                                    <label>
                                        Image URL
                                    </label>
                                    <span class="required" ng-show="form['image-url'].$error.required">
                                        *
                                    </span>
                                    <input class="form-control" data-ng-class="{'invalid' : form['image-url'].$invalid && !form['image-url'].$pristine}" data-ng-model="vm.form['image-url']" name="image-url" ng-required="true" placeholder="What is the event image url?" type="text">
                                    </input>
                                </div>
                            </div>
                            <div class="col-xs-6">
                                <div class="group">
                                    <label>
                                        External URL
                                    </label>
                                    <span class="required" ng-show="form.external_url.$error.required">
                                        *
                                    </span>
                                    <input class="form-control" data-ng-class="{'invalid' : form['external-url'].$invalid && !form['external-url'].$pristine}" data-ng-model="vm.form['external-url']" name="external-url" ng-required="true" placeholder="What is the event external url?" type="text">
                                    </input>
                                </div>
                            </div>
                            <div class="col-xs-6">
                                <div class="group">
                                    <label>
                                        Latitude
                                    </label>
                                    <span class="required" ng-show="form.latitude.$error.required">
                                        *
                                    </span>
                                    <input class="form-control" data-ng-class="{'invalid' : form.latitude.$invalid && !form.latitude.$pristine}" data-ng-model="vm.form.latitude" name="latitude" ng-required="true" placeholder="What is the event latitude?" type="text">
                                    </input>
                                </div>
                            </div>
                            <div class="col-xs-6">
                                <div class="group">
                                    <label>
                                        Longitude
                                    </label>
                                    <span class="required" ng-show="form.longitude.$error.required">
                                        *
                                    </span>
                                    <input class="form-control" data-ng-class="{'invalid' : form.longitude.$invalid && !form.longitude.$pristine}" data-ng-model="vm.form.longitude" name="longitude" ng-required="true" placeholder="What is the event longitude?" type="text">
                                    </input>
                                </div>
                            </div>
                            <div class="col-xs-6">
                                <div class="group">
                                    <label>
                                        Active
                                    </label>
                                    <span class="required" ng-show="form.active.$error.required">
                                        *
                                    </span>
                                    <input class="form-control" data-ng-class="{'invalid' : form.active.$invalid && !form.active.$pristine}" ng-model="vm.form.active" name="active" ng-required="true" placeholder="What is the event active?" type="checkbox">
                                    </input>
                                </div>
                            </div>
                            <br/>
                            <div class="group pull-right">
                                <button class="btn btn-default btn-info" data-ng-click="vm.save(vm.form)" data-ng-disabled="!vm.editing || form.$invalid">
                                    <i class="glyphicon glyphicon-floppy-save"></i>
                                    Save
                                </button>
                                {{}}
                            </div>
                            <br/>
                            <span class="small" ng-if="vm.auth_token">
                                <h6>
                                    This is the token for the user, please copy this data, otherwise the authenticate service will need to be called:
                                    <br/>
                                    <b>
                                        auth_token:
                                    </b>
                                    {{vm.auth_token}}
                                </h6>
                            </span>
                        </form>
                    </div>
                </div>
            </div>
            <div class="panel panel-default">
                <div class="panel-body">
                    <table class="table table-striped table-bordered">
                        <thead>
                            <tr>
                                <th colspan="6">
                                    <input class="form-control col-lg-12" data-ng-model="searchUser" data-ng-model-options="vm.modelOptions" placeholder="Search">
                                    </input>
                                </th>
                                <th>
                                    <button class="btn btn-default btn-success pull-right" data-ng-click="vm.add()" name="add" ng-show="!vm.editing">
                                <i class="glyphicon glyphicon-plus"></i>
                                </button>
                                &nbsp;
                                </th>
                            </tr>
                            <tr>
                                <th>
                                    #
                                </th>
                                <th>
                                    Name
                                </th>
                                <th>
                                    Image
                                </th>
                                <th>
                                    External link
                                </th>
                                <th>
                                    Lat/Long
                                </th>
                                <th>
                                    Active
                                </th>
                                <th>
                                    Action
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr data-ng-repeat="entry in vm.data | filter: searchUser">
                                <td>
                                    {{entry.id}}
                                </td>
                                <td>
                                    {{entry.name}}
                                </td>
                                <td>
                                    {{entry['image-url']}}
                                </td>
                                <td>
                                    {{entry['external-url']}}
                                </td>
                                <td>
                                    {{entry.latitude}}, {{entry.longitude}}
                                </td>
                                <td>
                                    {{entry.active ? 'Yes' : 'No'}}
                                </td>
                                <td>
                                    <button class="btn btn-info" data-ng-click="vm.edit(entry, entry.id)" name="action" type="submit">
                                        <i class="glyphicon glyphicon-pencil"></i>
                                    </button>
                                    <button class="btn btn-danger" data-ng-click="vm.remove(entry)" name="action" type="submit">
                                        <i class="glyphicon glyphicon-remove"></i>
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</section>